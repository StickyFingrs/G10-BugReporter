<% layout('layouts/boilerplate')%>

<h4>Editing Bug Report</h4>
<form action="/bugreports/<%=report._id%>?_method=PUT" method="POST" novalidate class="validated-form">
    <div class="form-row">
        <div class="form-group col-md-2">
            <label for="bugID">Bug ID</label>
            <input type="text" class="form-control" id="bugID" name="bugID" value="<%= report.bugID %>" readonly required>
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-group col">
            <label for="bugDescription">Bug Description</label>
            <textarea class="form-control" id="bugDescription" rows="6" name="bugDescription" readonly required><%= report.bugDescription %></textarea>
        </div>
    </div>
    
    <div class="form-row">
        <div class="form-group col-md-4">
            <label for="bugStatus">Bug Status</label>
            <select id="bugStatus" class="form-control" name="bugStatus" disabled required>
                <option value="Open" <%= report.bugStatus === "Open" ? 'selected' : '' %>>Open</option>
                <option value="In Progress" <%= report.bugStatus === "In Progress" ? 'selected' : '' %>>In Progress</option>
                <option value="Awaiting Testing" <%= report.bugStatus === "Awaiting Testing" ? 'selected' : '' %>>Awaiting Testing</option>
                <option value="Closed" <%= report.bugStatus === "Closed" ? 'selected' : '' %>>Closed</option>
            </select>
        </div>

        <div class="form-group col-md-4">
            <label for="bugSeverity">Bug Severity</label>
            <select id="bugSeverity" class="form-control" name="bugSeverity" disabled required>
                <option value="1" <%= report.bugSeverity === 1 ? 'selected' : '' %>>1</option>
                <option value="2" <%= report.bugSeverity === 2 ? 'selected' : '' %>>2</option>
                <option value="3" <%= report.bugSeverity === 3 ? 'selected' : '' %>>3</option>
                <option value="4" <%= report.bugSeverity === 4 ? 'selected' : '' %>>4</option>
                <option value="5" <%= report.bugSeverity === 5 ? 'selected' : '' %>>5</option>
            </select>
        </div>

        <div class="form-group col-md-4">
            <label for="bugAssignedTo">Bug Assigned To</label>
            <input type="text" class="form-control" id="bugAssignedTo" name="bugAssignedTo" value="<%= report.bugAssignedTo %>" readonly>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col">
            <label for="bugDateReported">Date Reported</label>
            <input type="text" class="form-control unchangable" id="bugDateReported" name="bugDateReported" value="<%= report.bugDateReported %>" readonly required>
        </div>
        <div class="form-group col">
            <label for="bugLastBumpDate">Last Bump Date</label>
            <input type="text" class="form-control" id="bugLastBumpDate" name="bugLastBumpDate" value="<%= report.bugDateReported %>" readonly required>
        </div>
    </div>

    <br>
    <div class="mb-3">
        <button class="btn btn-info">Update Bug Report</button>
    </div>
</form>